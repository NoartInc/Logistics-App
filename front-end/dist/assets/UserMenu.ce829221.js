var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var H=(n,i,l)=>i in n?ee(n,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[i]=l,y=(n,i)=>{for(var l in i||(i={}))X.call(i,l)&&H(n,l,i[l]);if(R)for(var l of R(i))z.call(i,l)&&H(n,l,i[l]);return n},W=(n,i)=>te(n,ne(i));var $=(n,i)=>{var l={};for(var e in n)X.call(n,e)&&i.indexOf(e)<0&&(l[e]=n[e]);if(n!=null&&R)for(var e of R(n))i.indexOf(e)<0&&z.call(n,e)&&(l[e]=n[e]);return l};import{s as E,q as A,_ as B,J as se,d as x,a as f,l as re,K as ie,b as ae,c as oe,j as D,M as le}from"./vendor.057b80fe.js";import{_ as ue}from"./setPrototypeOf.08579ea5.js";import{_ as ce}from"./index.f71ab816.js";import{l as pe}from"./auth-action.06edeb98.js";function q(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,ue(n,i)}function de(n,i){return n.classList?!!i&&n.classList.contains(i):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+i+" ")!==-1}function fe(n,i){n.classList?n.classList.add(i):de(n,i)||(typeof n.className=="string"?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i))}function J(n,i){return n.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ve(n,i){n.classList?n.classList.remove(i):typeof n.className=="string"?n.className=J(n.className,i):n.setAttribute("class",J(n.className&&n.className.baseVal||"",i))}var K={disabled:!1},Q=E.createContext(null),T="unmounted",g="exited",C="entering",N="entered",I="exiting",m=function(n){q(i,n);function i(e,s){var t;t=n.call(this,e,s)||this;var a=s,r=a&&!a.isMounting?e.enter:e.appear,o;return t.appearStatus=null,e.in?r?(o=g,t.appearStatus=C):o=N:e.unmountOnExit||e.mountOnEnter?o=T:o=g,t.state={status:o},t.nextCallback=null,t}i.getDerivedStateFromProps=function(s,t){var a=s.in;return a&&t.status===T?{status:g}:null};var l=i.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(s){var t=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==C&&a!==N&&(t=C):(a===C||a===N)&&(t=I)}this.updateStatus(!1,t)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var s=this.props.timeout,t,a,r;return t=a=r=s,s!=null&&typeof s!="number"&&(t=s.exit,a=s.enter,r=s.appear!==void 0?s.appear:a),{exit:t,enter:a,appear:r}},l.updateStatus=function(s,t){s===void 0&&(s=!1),t!==null?(this.cancelNextCallback(),t===C?this.performEnter(s):this.performExit()):this.props.unmountOnExit&&this.state.status===g&&this.setState({status:T})},l.performEnter=function(s){var t=this,a=this.props.enter,r=this.context?this.context.isMounting:s,o=this.props.nodeRef?[r]:[A.findDOMNode(this),r],u=o[0],c=o[1],p=this.getTimeouts(),h=r?p.appear:p.enter;if(!s&&!a||K.disabled){this.safeSetState({status:N},function(){t.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:C},function(){t.props.onEntering(u,c),t.onTransitionEnd(h,function(){t.safeSetState({status:N},function(){t.props.onEntered(u,c)})})})},l.performExit=function(){var s=this,t=this.props.exit,a=this.getTimeouts(),r=this.props.nodeRef?void 0:A.findDOMNode(this);if(!t||K.disabled){this.safeSetState({status:g},function(){s.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:I},function(){s.props.onExiting(r),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:g},function(){s.props.onExited(r)})})})},l.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(s,t){t=this.setNextCallback(t),this.setState(s,t)},l.setNextCallback=function(s){var t=this,a=!0;return this.nextCallback=function(r){a&&(a=!1,t.nextCallback=null,s(r))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},l.onTransitionEnd=function(s,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:A.findDOMNode(this),r=s==null&&!this.props.addEndListener;if(!a||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=o[0],c=o[1];this.props.addEndListener(u,c)}s!=null&&setTimeout(this.nextCallback,s)},l.render=function(){var s=this.state.status;if(s===T)return null;var t=this.props,a=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=B(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return E.createElement(Q.Provider,{value:null},typeof a=="function"?a(s,r):E.cloneElement(E.Children.only(a),r))},i}(E.Component);m.contextType=Q;m.propTypes={};function S(){}m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:S,onEntering:S,onEntered:S,onExit:S,onExiting:S,onExited:S};m.UNMOUNTED=T;m.EXITED=g;m.ENTERING=C;m.ENTERED=N;m.EXITING=I;var he=m,Ee=function(i,l){return i&&l&&l.split(" ").forEach(function(e){return fe(i,e)})},w=function(i,l){return i&&l&&l.split(" ").forEach(function(e){return ve(i,e)})},M=function(n){q(i,n);function i(){for(var e,s=arguments.length,t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];return e=n.call.apply(n,[this].concat(t))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(r,o){var u=e.resolveArguments(r,o),c=u[0],p=u[1];e.removeClasses(c,"exit"),e.addClass(c,p?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(r,o)},e.onEntering=function(r,o){var u=e.resolveArguments(r,o),c=u[0],p=u[1],h=p?"appear":"enter";e.addClass(c,h,"active"),e.props.onEntering&&e.props.onEntering(r,o)},e.onEntered=function(r,o){var u=e.resolveArguments(r,o),c=u[0],p=u[1],h=p?"appear":"enter";e.removeClasses(c,h),e.addClass(c,h,"done"),e.props.onEntered&&e.props.onEntered(r,o)},e.onExit=function(r){var o=e.resolveArguments(r),u=o[0];e.removeClasses(u,"appear"),e.removeClasses(u,"enter"),e.addClass(u,"exit","base"),e.props.onExit&&e.props.onExit(r)},e.onExiting=function(r){var o=e.resolveArguments(r),u=o[0];e.addClass(u,"exit","active"),e.props.onExiting&&e.props.onExiting(r)},e.onExited=function(r){var o=e.resolveArguments(r),u=o[0];e.removeClasses(u,"exit"),e.addClass(u,"exit","done"),e.props.onExited&&e.props.onExited(r)},e.resolveArguments=function(r,o){return e.props.nodeRef?[e.props.nodeRef.current,r]:[r,o]},e.getClassNames=function(r){var o=e.props.classNames,u=typeof o=="string",c=u&&o?o+"-":"",p=u?""+c+r:o[r],h=u?p+"-active":o[r+"Active"],_=u?p+"-done":o[r+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:_}},e}var l=i.prototype;return l.addClass=function(s,t,a){var r=this.getClassNames(t)[a+"ClassName"],o=this.getClassNames("enter"),u=o.doneClassName;t==="appear"&&a==="done"&&u&&(r+=" "+u),a==="active"&&s&&s.scrollTop,r&&(this.appliedClasses[t][a]=r,Ee(s,r))},l.removeClasses=function(s,t){var a=this.appliedClasses[t],r=a.base,o=a.active,u=a.done;this.appliedClasses[t]={},r&&w(s,r),o&&w(s,o),u&&w(s,u)},l.render=function(){var s=this.props;s.classNames;var t=B(s,["classNames"]);return E.createElement(he,se({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},i}(E.Component);M.defaultProps={classNames:""};M.propTypes={};var me=M;const Y=E.createContext({parent:{}});function xe(){const n=x.exports.useRef(!0);return x.exports.useEffect(()=>{n.current=!1},[]),n.current}function Z(h){var _=h,{show:n,enter:i="",enterStart:l="",enterEnd:e="",leave:s="",leaveStart:t="",leaveEnd:a="",appear:r,unmountOnExit:o,tag:u="div",children:c}=_,p=$(_,["show","enter","enterStart","enterEnd","leave","leaveStart","leaveEnd","appear","unmountOnExit","tag","children"]);const P=i.split(" ").filter(d=>d.length),j=l.split(" ").filter(d=>d.length),G=e.split(" ").filter(d=>d.length),U=s.split(" ").filter(d=>d.length),F=t.split(" ").filter(d=>d.length),V=a.split(" ").filter(d=>d.length),L=o;function k(d,b){b.length&&d.classList.add(...b)}function O(d,b){b.length&&d.classList.remove(...b)}const v=E.useRef(null);return f(me,{appear:r,nodeRef:v,unmountOnExit:L,in:n,addEndListener:d=>{v.current.addEventListener("transitionend",d,!1)},onEnter:()=>{L||(v.current.style.display=null),k(v.current,[...P,...j])},onEntering:()=>{O(v.current,j),k(v.current,G)},onEntered:()=>{O(v.current,[...G,...P])},onExit:()=>{k(v.current,[...U,...F])},onExiting:()=>{O(v.current,F),k(v.current,V)},onExited:()=>{O(v.current,[...V,...U]),L||(v.current.style.display="none")},children:f(u,W(y({ref:v},p),{style:{display:L?null:"none"},children:c}))})}function ge(e){var s=e,{show:n,appear:i}=s,l=$(s,["show","appear"]);const{parent:t}=x.exports.useContext(Y),a=xe();return n===void 0?f(Z,y({appear:t.appear||!t.isInitialRender,show:t.show},l)):f(Y.Provider,{value:{parent:{show:n,isInitialRender:a,appear:i}},children:f(Z,y({appear:i,show:n},l))})}var Ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ge});const Ne=re(()=>ce(()=>Promise.resolve().then(function(){return Ce}),void 0));function Oe(){const n=ie(),[i,l]=x.exports.useState(!1),e=ae(),s=oe(o=>o.authReducer.user),t=()=>{e(pe()),n("/login")},a=x.exports.useRef(null),r=x.exports.useRef(null);return x.exports.useEffect(()=>{const o=({target:u})=>{var c,p;!i||((c=r.current)==null?void 0:c.contains(u))||((p=a.current)==null?void 0:p.contains(u))||l(!1)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)}),x.exports.useEffect(()=>{const o=({keyCode:u})=>{!i||u!==27||l(!1)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)}),D("div",{className:"relative inline-flex px-2 py-2",children:[f("button",{ref:a,className:"inline-flex justify-center items-center group","aria-haspopup":"true",onClick:()=>l(!i),"aria-expanded":i,children:D("div",{className:"flex items-center truncate",children:[f("span",{className:"truncate ml-2 mx-1 text-lg font-medium group-hover:text-slate-900",children:s==null?void 0:s.fullName}),f("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-black",viewBox:"0 0 12 12",children:f("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})]})}),f(Ne,{className:"origin-top-right z-10 absolute top-full right-0 min-w-44 bg-white border border-slate-200 py-1.5 rounded shadow-lg overflow-hidden mt-1",show:i,enter:"transition ease-out duration-200 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-200",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:D("div",{ref:r,onFocus:()=>l(!0),onBlur:()=>l(!1),children:[D("div",{className:"pt-0.5 pb-2 px-3 mb-1 border-b border-slate-200",children:[f("div",{className:"font-medium text-slate-800",children:s==null?void 0:s.fullName}),f("div",{className:"text-xs text-slate-500 italic",children:s==null?void 0:s.role})]}),f("ul",{children:f("li",{children:f(le,{className:"font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3",to:"/",onClick:t,children:"Sign Out"})})})]})})]})}export{Oe as U};
