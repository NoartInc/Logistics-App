var B=Object.defineProperty,T=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var I=(n,s,l)=>s in n?B(n,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[s]=l,p=(n,s)=>{for(var l in s||(s={}))z.call(s,l)&&I(n,l,s[l]);if(M)for(var l of M(s))G.call(s,l)&&I(n,l,s[l]);return n},h=(n,s)=>T(n,E(s));import{b as S,d as x,c as F,j as a,F as N,a as e}from"./vendor.057b80fe.js";import{e as W,u as _,c as O,r as V,d as U}from"./pengangkutan-action.6750642a.js";import{r as w,S as $,a as q,b as J,B as A,P as C,C as K,c as Q,d as X,e as Y}from"./Icons.cdb9d418.js";import{c as Z}from"./index.f71ab816.js";import{R as j,u as L}from"./constants.091680d7.js";import"./http-common.c2a35339.js";function ee({id:n=null}){const s=S(),[l,u]=x.exports.useState(!1),o=F(c=>c.pengangkutans.selectedData),[t,m]=x.exports.useState({}),r=c=>{s(W(c)),u(!0)};x.exports.useEffect(()=>{m(o)},[o]);const d=c=>{const{name:f,value:v}=c.target;m(y=>h(p({},y),{[f]:v}))};return a(N,{children:[e("svg",{type:"button",onClick:()=>r(n),xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l?e(N,{children:a("form",{onSubmit:c=>{c.preventDefault(),s(_(t)),u(!1)},children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-4xl",children:a("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[a("div",{className:"flex items-start justify-between p-4 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-xl font-semibold uppercase",children:"Edit Pengangkutan"}),e("button",{className:"p-1 ml-auto bg-transparent border-0  float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>u(!1),children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"#808080",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:a("div",{className:"grid grid-cols-9 gap-9 px-4 py-4",children:[a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"pengangkutan",className:"block text-xs font-medium uppercase text-gray-500",children:["Pengangkutan",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:d,type:"text",name:"pengangkutan",id:"pengangkutan",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:t==null?void 0:t.pengangkutan})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{for:"pic",className:"block text-xs font-medium uppercase text-gray-500",children:"Pic"}),e("input",{onChange:d,type:"text",name:"pic",id:"pic",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:t==null?void 0:t.pic})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"contact",className:"block text-xs font-medium uppercase text-gray-500",children:["Contact",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:d,type:"text",name:"contact",id:"contact",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:t==null?void 0:t.contact})]}),a("div",{className:"col-span-9 sm:col-span-6",children:[a("label",{for:"address",className:"block text-xs font-medium uppercase text-gray-500",children:["Alamat Pengangkutan",e("span",{className:"text-red-600",children:"*"})]}),e("textarea",{onChange:d,type:"text",name:"address",id:"address",rows:"4",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Alamat lengkap pengangkutan",value:t==null?void 0:t.address})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"status",className:"block text-xs font-medium uppercase text-gray-500",children:["Status",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:d,id:"status",name:"status",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",value:t==null?void 0:t.status,children:[e("option",{value:"",children:"--Pilih Status--"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})}),a("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 hover:bg-emerald-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Edit"}),e("button",{className:"text-gray-500 background-transparent hover:bg-gray-200 font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>u(!1),children:"Cancel"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})}):null]})}function ae(){var r,d;const n=S(),[s,l]=x.exports.useState(!1),[u,o]=x.exports.useState({pengangkutan:"",pic:"",contact:"",address:"",status:""}),t=b=>{const{name:c,value:f}=b.target;o(v=>h(p({},v),{[c]:f}))},m=b=>{b.preventDefault(),n(O(u)).then(()=>{window.alert("Pengangkutan created successfully")}).catch(c=>{window.alert(c)}),l(!1)};return a(N,{children:[j.create_pengangkutan.allowedRoles.includes((d=(r=L)==null?void 0:r.user)==null?void 0:d.role)&&e("button",{type:"button",onClick:()=>l(!0),className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out","data-bs-toggle":"modal","data-bs-target":"#exampleModalLg",children:"Tambah Pengangkutan"}),s?e(N,{children:a("form",{onSubmit:m,children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-4xl",children:a("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[a("div",{className:"flex items-start justify-between p-4 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-xl font-semibold uppercase",children:"Tambah Pengangkutan"}),e("button",{className:"p-1 ml-auto bg-transparent border-0  float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>l(!1),children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"#808080",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:a("div",{className:"grid grid-cols-9 gap-9 px-4 py-4",children:[a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"pengangkutan",className:"block text-xs font-medium uppercase text-gray-500",children:["Pengangkutan",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:t,type:"text",name:"pengangkutan",id:"pengangkutan",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Nama Pengangkutan"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{for:"pic",className:"block text-xs font-medium uppercase text-gray-500",children:"Pic"}),e("input",{onChange:t,type:"text",name:"pic",id:"pic",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"PIC"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"contact",className:"block text-xs font-medium uppercase text-gray-500",children:["Contact",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:t,type:"text",name:"contact",id:"contact",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Contact"})]}),a("div",{className:"col-span-9 sm:col-span-6",children:[a("label",{for:"address",className:"block text-xs font-medium uppercase text-gray-500",children:["Alamat Pengangkutan",e("span",{className:"text-red-600",children:"*"})]}),e("textarea",{onChange:t,type:"text",name:"address",id:"address",rows:"4",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Alamat lengkap pengangkutan"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"status",className:"block text-xs font-medium uppercase text-gray-500",children:["Status",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:t,id:"status",name:"status",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",children:[e("option",{value:"",children:"--Pilih Status--"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})}),a("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 hover:bg-emerald-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"}),e("button",{className:"text-gray-500 background-transparent hover:bg-gray-200 font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>l(!1),children:"Close"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})}):null]})}function te({preGlobalFilteredRows:n,globalFilter:s,setGlobalFilter:l}){const u=n.length,[o,t]=x.exports.useState(s),m=w.exports.useAsyncDebounce(r=>{l(r||void 0)},200);return a("label",{className:"flex gap-x-2 items-baseline",children:[e("span",{className:"text-gray-700",children:"Search: "}),e("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:o||"",onChange:r=>{t(r.target.value),m(r.target.value)},placeholder:`${u} records...`})]})}function se({value:n}){const s=n?n.toLowerCase():"unknown";return e("span",{className:Z("px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm",s.startsWith("active")?"bg-green-100 text-green-800":null,s.startsWith("inactive")?"bg-red-100 text-red-800":null),children:s})}function ne({columns:n,data:s}){const{getTableProps:l,getTableBodyProps:u,headerGroups:o,prepareRow:t,page:m,canPreviousPage:r,canNextPage:d,pageOptions:b,pageCount:c,gotoPage:f,nextPage:v,previousPage:y,setPageSize:D,state:P,preGlobalFilteredRows:H,setGlobalFilter:R}=w.exports.useTable({columns:n,data:s},w.exports.useFilters,w.exports.useGlobalFilter,w.exports.useSortBy,w.exports.usePagination);return e(N,{children:e("div",{className:"shadow overflow-hidden sm:rounded-md",children:a("div",{className:"px-4 py-5 bg-white sm:p-6",children:[e("header",{className:"px-0 mt-0 mb-4",children:e("h2",{className:"font-semibold text-slate-800 uppercase",children:"Pengangkutan List"})}),a("div",{className:"sm:flex sm:gap-x-2 py-2",children:[e(te,{preGlobalFilteredRows:H,globalFilter:P.globalFilter,setGlobalFilter:R}),o.map(i=>i.headers.map(g=>g.Filter?e("div",{className:"mt-2 sm:mt-0",children:g.render("Filter")},g.id):null)),e("div",{className:"flex px-4",children:e(ae,{})})]}),e("div",{className:"mt-4 flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:e("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:a("table",h(p({},l()),{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:o.map(i=>e("tr",h(p({},i.getHeaderGroupProps()),{children:i.headers.map(g=>e("th",h(p({scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},g.getHeaderProps(g.getSortByToggleProps())),{children:a("div",{className:"flex items-center justify-between",children:[g.render("Header"),e("span",{children:g.isSorted?g.isSortedDesc?e($,{className:"w-4 h-4 text-gray-400"}):e(q,{className:"w-4 h-4 text-gray-400"}):e(J,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100"})})]})})))})))}),e("tbody",h(p({},u()),{className:"bg-white divide-y divide-gray-200",children:m.map((i,g)=>(t(i),e("tr",h(p({},i.getRowProps()),{children:i.cells.map(k=>e("td",h(p({},k.getCellProps()),{className:"px-6 py-4 whitespace-nowrap",role:"cell",children:k.column.Cell.name==="defaultRenderer"?e("div",{className:"text-sm text-gray-500",children:k.render("Cell")}):k.render("Cell")})))}))))}))]}))})})})}),a("div",{className:"py-3 flex items-center justify-between",children:[a("div",{className:"flex-1 flex justify-between sm:hidden",children:[e(A,{onClick:()=>y(),disabled:!r,children:"Previous"}),e(A,{onClick:()=>v(),disabled:!d,children:"Next"})]}),a("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a("div",{className:"flex gap-x-2 items-baseline",children:[a("span",{className:"text-sm text-gray-700",children:["Page ",e("span",{className:"font-medium",children:P.pageIndex+1})," of"," ",e("span",{className:"font-medium",children:b.length})]}),a("label",{children:[e("span",{className:"sr-only",children:"Items Per Page"}),e("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:P.pageSize,onChange:i=>{D(Number(i.target.value))},children:[5,10,20].map(i=>a("option",{value:i,children:["Show ",i]},i))})]})]}),e("div",{children:a("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a(C,{className:"rounded-l-md",onClick:()=>f(0),disabled:!r,children:[e("span",{className:"sr-only",children:"First"}),e(K,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{onClick:()=>y(),disabled:!r,children:[e("span",{className:"sr-only",children:"Previous"}),e(Q,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{onClick:()=>v(),disabled:!d,children:[e("span",{className:"sr-only",children:"Next"}),e(X,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{className:"rounded-r-md",onClick:()=>f(c-1),disabled:!d,children:[e("span",{className:"sr-only",children:"Last"}),e(Y,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]})]})})]})]})]})})})}function me(){const n=S(),s=F(o=>o.pengangkutans.list);x.exports.useEffect(()=>{n(V())},[]);const l=o=>{window.confirm("Are you sure you want to remove?")&&n(U(o))},u=x.exports.useMemo(()=>[{Header:"ID",accessor:"id"},{Header:"Pengangkutan",accessor:"pengangkutan"},{Header:"PIC",accessor:"pic"},{Header:"Contact",accessor:"contact"},{Header:"Address",accessor:"address"},{Header:"Status",accessor:"status",Cell:se},{Header:"Action",Cell:o=>{var t,m,r,d;return a("div",{className:"flex justify-start",children:[j.update_pengangkutan.allowedRoles.includes((m=(t=L)==null?void 0:t.user)==null?void 0:m.role)&&e(ee,{id:o.row.original.id}),j.delete_pengangkutan.allowedRoles.includes((d=(r=L)==null?void 0:r.user)==null?void 0:d.role)&&e("svg",{onClick:()=>l(o.row.original.id),xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-red-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}}],[]);return e(ne,{columns:u,data:s})}export{me as default};
