var D=Object.defineProperty,B=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var P=(n,t,l)=>t in n?D(n,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[t]=l,p=(n,t)=>{for(var l in t||(t={}))A.call(t,l)&&P(n,l,t[l]);if(S)for(var l of S(t))E.call(t,l)&&P(n,l,t[l]);return n},g=(n,t)=>B(n,T(t));import{b as F,d as b,j as a,F as f,a as e,c as L}from"./vendor.057b80fe.js";import"./UserMenu.ce829221.js";import"./constants.091680d7.js";import{r as x,S as R,a as z,b as W,B as M,P as C,C as G,c as O,d as J,e as V}from"./Icons.cdb9d418.js";import{c as $}from"./index.f71ab816.js";import{c as q,e as K,u as Q,r as X,d as Y}from"./user-action.686f2f03.js";import"./setPrototypeOf.08579ea5.js";import"./auth-action.06edeb98.js";import"./http-common.c2a35339.js";function Z(){const n=F(),[t,l]=b.exports.useState(!1),[c,o]=b.exports.useState({fullName:"",userName:"",password:"",role:"",jabatan:"",email:"",contact:"",status:""}),s=r=>{const{name:i,value:v}=r.target;o(u=>g(p({},u),{[i]:v}))};return a(f,{children:[e("button",{type:"button",onClick:()=>l(!0),className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out","data-bs-toggle":"modal","data-bs-target":"#exampleModalLg",children:"Tambah user"}),t?e(f,{children:a("form",{onSubmit:r=>{r.preventDefault(),n(q(c)).then(()=>{window.alert("User created successfully")}).catch(i=>{window.alert(i)}),l(!1)},children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-4xl",children:a("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[a("div",{className:"flex items-start justify-between p-4 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-lg font-semibold uppercase",children:"Tambah User"}),e("button",{className:"p-1 ml-auto bg-transparent border-0  float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>l(!1),children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"#808080",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:a("div",{className:"grid grid-cols-9 gap-9 px-4 py-4",children:[a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"fullName",className:"block text-xs font-medium uppercase text-gray-500",children:["Fullname",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:s,type:"text",name:"fullName",id:"fullName",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"userName",className:"block text-xs font-medium uppercase text-gray-500",children:["Username",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:s,type:"text",name:"userName",id:"userName",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"password",className:"block text-xs font-medium uppercase text-gray-500",children:["Password",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:s,type:"text",name:"password",id:"password",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"role",className:"block text-xs font-medium uppercase text-gray-500",children:["Role",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:s,id:"role",name:"role",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e("option",{value:"",children:"--Pilih role--"}),e("option",{value:"administrator",children:"Administrator"}),e("option",{value:"driver",children:"Driver"}),e("option",{value:"logistics",children:"Logistics"}),e("option",{value:"teli",children:"Teli"}),e("option",{value:"cbo",children:"CBO"}),e("option",{value:"sales",children:"Sales"}),e("option",{value:"manager",children:"Manager"}),e("option",{value:"telemarketing",children:"Tele Marketing"})]})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{htmlFor:"jabatan",className:"block text-xs font-medium uppercase text-gray-500",children:"Jabatan"}),e("input",{onChange:s,type:"text",name:"jabatan",id:"jabatan",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{htmlFor:"email",className:"block text-xs font-medium uppercase text-gray-500",children:"Email"}),e("input",{onChange:s,type:"text",name:"email",id:"email",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"contact",className:"block text-xs font-medium uppercase text-gray-500",children:["Contact",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:s,type:"text",name:"contact",id:"contact",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"status",className:"block text-xs font-medium uppercase text-gray-500",children:["Status",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:s,id:"status",name:"status",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e("option",{value:"",children:"--Pilih Status--"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})}),a("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 hover:bg-emerald-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"}),e("button",{className:"text-gray-500 background-transparent hover:bg-gray-200 font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>l(!1),children:"Close"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})}):null]})}function _({preGlobalFilteredRows:n,globalFilter:t,setGlobalFilter:l}){const c=n.length,[o,s]=b.exports.useState(t),d=x.exports.useAsyncDebounce(r=>{l(r||void 0)},200);return a("label",{className:"flex gap-x-2 items-baseline",children:[e("span",{className:"text-gray-700",children:"Search: "}),e("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:o||"",onChange:r=>{s(r.target.value),d(r.target.value)},placeholder:`${c} records...`})]})}function ee({column:{filterValue:n,setFilter:t,preFilteredRows:l,id:c,render:o}}){const s=b.exports.useMemo(()=>{const d=new Set;return l.forEach(r=>{d.add(r.values[c])}),[...d.values()]},[c,l]);return a("label",{className:"flex gap-x-2 items-baseline",children:[a("span",{className:"text-gray-700",children:[o("Header"),": "]}),a("select",{className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",name:c,id:c,value:n,onChange:d=>{t(d.target.value||void 0)},children:[e("option",{value:"",children:"All"}),s.map((d,r)=>e("option",{value:d,children:d},r))]})]})}function ae({value:n}){const t=n?n.toLowerCase():"unknown";return e("span",{className:$("px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm",t.startsWith("active")?"bg-green-100 text-green-800":null,t.startsWith("inactive")?"bg-red-100 text-red-800":null),children:t})}function se({columns:n,data:t}){const{getTableProps:l,getTableBodyProps:c,headerGroups:o,prepareRow:s,page:d,canPreviousPage:r,canNextPage:i,pageOptions:v,pageCount:u,gotoPage:N,nextPage:w,previousPage:y,setPageSize:U,state:j,preGlobalFilteredRows:H,setGlobalFilter:I}=x.exports.useTable({columns:n,data:t},x.exports.useFilters,x.exports.useGlobalFilter,x.exports.useSortBy,x.exports.usePagination);return e(f,{children:e("div",{className:"shadow overflow-hidden sm:rounded-md",children:a("div",{className:"px-4 py-5 bg-white sm:p-6",children:[e("header",{className:"px-0 mt-0 mb-4",children:e("h2",{className:"font-semibold text-slate-800 uppercase",children:"User List"})}),a("div",{className:"sm:flex sm:gap-x-2 py-2",children:[e(_,{preGlobalFilteredRows:H,globalFilter:j.globalFilter,setGlobalFilter:I}),o.map(m=>m.headers.map(h=>h.Filter?e("div",{className:"mt-2 sm:mt-0",children:h.render("Filter")},h.id):null)),e("div",{className:"flex px-4",children:e(Z,{})})]}),e("div",{className:"mt-4 flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:e("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:a("table",g(p({},l()),{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:o.map(m=>e("tr",g(p({},m.getHeaderGroupProps()),{children:m.headers.map(h=>e("th",g(p({scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},h.getHeaderProps(h.getSortByToggleProps())),{children:a("div",{className:"flex items-center justify-between",children:[h.render("Header"),e("span",{children:h.isSorted?h.isSortedDesc?e(R,{className:"w-4 h-4 text-gray-400"}):e(z,{className:"w-4 h-4 text-gray-400"}):e(W,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100"})})]})})))})))}),e("tbody",g(p({},c()),{className:"bg-white divide-y divide-gray-200",children:d.map((m,h)=>(s(m),e("tr",g(p({},m.getRowProps()),{children:m.cells.map(k=>e("td",g(p({},k.getCellProps()),{className:"px-6 py-4 whitespace-nowrap",role:"cell",children:k.column.Cell.name==="defaultRenderer"?e("div",{className:"text-sm text-gray-500",children:k.render("Cell")}):k.render("Cell")})))}))))}))]}))})})})}),a("div",{className:"py-3 flex items-center justify-between",children:[a("div",{className:"flex-1 flex justify-between sm:hidden",children:[e(M,{onClick:()=>y(),disabled:!r,children:"Previous"}),e(M,{onClick:()=>w(),disabled:!i,children:"Next"})]}),a("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a("div",{className:"flex gap-x-2 items-baseline",children:[a("span",{className:"text-sm text-gray-700",children:["Page ",e("span",{className:"font-medium",children:j.pageIndex+1})," of"," ",e("span",{className:"font-medium",children:v.length})]}),a("label",{children:[e("span",{className:"sr-only",children:"Items Per Page"}),e("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:j.pageSize,onChange:m=>{U(Number(m.target.value))},children:[5,10,20].map(m=>a("option",{value:m,children:["Show ",m]},m))})]})]}),e("div",{children:a("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a(C,{className:"rounded-l-md",onClick:()=>N(0),disabled:!r,children:[e("span",{className:"sr-only",children:"First"}),e(G,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{onClick:()=>y(),disabled:!r,children:[e("span",{className:"sr-only",children:"Previous"}),e(O,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{onClick:()=>w(),disabled:!i,children:[e("span",{className:"sr-only",children:"Next"}),e(J,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{className:"rounded-r-md",onClick:()=>N(u-1),disabled:!i,children:[e("span",{className:"sr-only",children:"Last"}),e(V,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]})]})})]})]})]})})})}function te({id:n=null}){const t=F(),l=L(u=>u.users.selectedData),[c,o]=b.exports.useState(!1),[s,d]=b.exports.useState({});b.exports.useEffect(()=>{d(l)},[l]);const r=u=>{t(K(u)),o(!0)},i=u=>{const{name:N,value:w}=u.target;d(y=>g(p({},y),{[N]:w}))};return a(f,{children:[e("svg",{type:"button",onClick:()=>r(n),xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),c?e(f,{children:a("form",{onSubmit:u=>{u.preventDefault(),t(Q(s)),o(!1)},children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-4xl",children:a("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[a("div",{className:"flex items-start justify-between p-4 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-lg font-semibold uppercase",children:"Edit User"}),e("button",{className:"p-1 ml-auto bg-transparent border-0  float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>o(!1),children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"#808080",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:a("div",{className:"grid grid-cols-9 gap-9 px-4 py-4",children:[a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"fullname",className:"block text-xs font-medium uppercase text-gray-500",children:["Fullname",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:i,type:"text",name:"fullName",id:"fullName",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s==null?void 0:s.fullName})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"userName",className:"block text-xs font-medium uppercase text-gray-500",children:["Username",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:i,type:"text",name:"userName",id:"userName",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s==null?void 0:s.userName})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"password",className:"block text-xs font-medium uppercase text-gray-500",children:["Password",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:i,type:"text",name:"password",id:"password",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s==null?void 0:s.password})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"role",className:"block text-xs font-medium uppercase text-gray-500",children:["Role",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:i,id:"role",name:"role",autoComplete:"role",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s==null?void 0:s.role,children:[e("option",{value:"",children:"--Pilih role--"}),e("option",{value:"administrator",children:"Administrator"}),e("option",{value:"driver",children:"Driver"}),e("option",{value:"logistics",children:"Logistics"}),e("option",{value:"teli",children:"Teli"}),e("option",{value:"cbo",children:"CBO"}),e("option",{value:"sales",children:"Sales"}),e("option",{value:"manager",children:"Manager"}),e("option",{value:"telemarketing",children:"Tele Marketing"})]})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{htmlFor:"jabatan",className:"block text-xs font-medium uppercase text-gray-500",children:"Jabatan"}),e("input",{onChange:i,type:"text",name:"jabatan",id:"jabatan",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s==null?void 0:s.jabatan})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{htmlFor:"email",className:"block text-xs font-medium uppercase text-gray-500",children:"Email"}),e("input",{onChange:i,type:"text",name:"email",id:"email",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s==null?void 0:s.email})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"contact",className:"block text-xs font-medium uppercase text-gray-500",children:["Contact",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:i,type:"text",name:"contact",id:"contact",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:s==null?void 0:s.contact})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{htmlFor:"status",className:"block text-xs font-medium uppercase text-gray-500",children:["Status",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:i,id:"status",name:"status",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s==null?void 0:s.status,children:[e("option",{value:"",children:"---Pilih Status---"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})}),a("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 hover:bg-emerald-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Edit"}),e("button",{className:"text-gray-500 background-transparent hover:bg-gray-200 font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>o(!1),children:"Cancel"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})}):null]})}function pe(){const n=F(),t=L(o=>o.users.list);b.exports.useEffect(()=>{n(X())},[]);const l=o=>{window.confirm("Are you sure you want to remove this user?")&&n(Y(o))},c=b.exports.useMemo(()=>[{Header:"ID",accessor:"id"},{Header:"Fullname",accessor:"fullName"},{Header:"Username",accessor:"userName"},{Header:"Password",accessor:"password"},{Header:"Role",Filter:ee,accessor:"role"},{Header:"Jabatan",accessor:"jabatan"},{Header:"Contact",accessor:"contact"},{Header:"Email",accessor:"email"},{Header:"Status",accessor:"status",Cell:ae},{Header:"Action",Cell:o=>a("div",{className:"flex justify-start",children:[e(te,{id:o.row.original.id}),e("svg",{onClick:()=>l(o.row.original.id),xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-red-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}],[]);return e("div",{className:"grid gap-6 mb-8 md:grid-cols-1 xl:grid-cols-1",children:e(se,{columns:c,data:t})})}export{pe as default};
