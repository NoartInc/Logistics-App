var B=Object.defineProperty,T=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var L=(r,s,t)=>s in r?B(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t,p=(r,s)=>{for(var t in s||(s={}))E.call(s,t)&&L(r,t,s[t]);if(R)for(var t of R(s))z.call(s,t)&&L(r,t,s[t]);return r},g=(r,s)=>T(r,A(s));import{b as P,d as b,c as K,j as a,F as N,a as e}from"./vendor.057b80fe.js";import{e as G,u as W,c as _,r as O,d as V}from"./kendaraan-action.49f2b318.js";import{r as w,S as U,a as $,b as q,B as F,P as C,C as J,c as Q,d as X,e as Y}from"./Icons.cdb9d418.js";import{c as Z}from"./index.f71ab816.js";import{R as j,u as M}from"./constants.091680d7.js";import"./http-common.c2a35339.js";function ee({id:r=null}){const s=P(),[t,m]=b.exports.useState(!1),[n,l]=b.exports.useState({}),u=K(c=>c.kendaraans.selectedData);b.exports.useEffect(()=>{l(u)},[u]);const o=c=>{s(G(c)),m(!0)},d=c=>{const{name:f,value:v}=c.target;l(y=>g(p({},y),{[f]:v}))};return a(N,{children:[e("svg",{type:"button",onClick:()=>o(r),xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),t?e(N,{children:a("form",{onSubmit:c=>{c.preventDefault(),s(W(n)),m(!1)},children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-4xl",children:a("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[a("div",{className:"flex items-start justify-between p-4 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-xl font-semibold uppercase",children:"Edit Kendaraan"}),e("button",{className:"p-1 ml-auto bg-transparent border-0  float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>m(!1),children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"#808080",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:a("div",{className:"grid grid-cols-9 gap-9 px-4 py-4",children:[a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"kendaraan",className:"block text-xs font-medium uppercase text-gray-500",children:["Kendaraan",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:d,type:"text",name:"kendaraan",id:"kendaraan",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:n==null?void 0:n.kendaraan})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{for:"merk",className:"block text-xs font-medium uppercase text-gray-500",children:"Merk"}),e("input",{onChange:d,type:"text",name:"merk",id:"merk",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:n==null?void 0:n.merk})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"roda",className:"block text-xs font-medium uppercase text-gray-500",children:["Roda",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:d,id:"roda",name:"roda",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",value:n==null?void 0:n.roda,children:[e("option",{value:"",children:"---Pilih Roda---"}),e("option",{value:"roda-4",children:"Roda - 4"}),e("option",{value:"roda-6",children:"Roda - 6"})]})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"status",className:"block text-xs font-medium uppercase text-gray-500",children:["Status",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:d,id:"status",name:"status",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",value:n==null?void 0:n.status,children:[e("option",{value:"",children:"---Pilih Status---"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})}),a("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 hover:bg-emerald-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Edit"}),e("button",{className:"text-gray-500 background-transparent hover:bg-gray-200 font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>m(!1),children:"Cancel"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})}):null]})}function ae(){var o,d;const r=P(),[s,t]=b.exports.useState(!1),[m,n]=b.exports.useState({kendaraan:"",merk:"",roda:"",status:""}),l=x=>{const{name:c,value:f}=x.target;n(v=>g(p({},v),{[c]:f}))},u=x=>{x.preventDefault(),r(_(m)).then(()=>{window.alert("Kendaraan created successfully")}).catch(c=>{window.alert(c)}),t(!1)};return a(N,{children:[j.create_kendaraan.allowedRoles.includes((d=(o=M)==null?void 0:o.user)==null?void 0:d.role)&&e("button",{type:"button",onClick:()=>t(!0),className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out","data-bs-toggle":"modal","data-bs-target":"#exampleModalLg",children:"Tambah Kendaraan"}),s?e(N,{children:a("form",{onSubmit:u,children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-4xl",children:a("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[a("div",{className:"flex items-start justify-between p-4 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-xl font-semibold uppercase",children:"Tambah Kendaraan"}),e("button",{className:"p-1 ml-auto bg-transparent border-0  float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>t(!1),children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"#808080",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"mt-5 md:mt-0 md:col-span-4",children:a("div",{className:"grid grid-cols-9 gap-9 px-4 py-4",children:[a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"kendaraan",className:"block text-xs font-medium uppercase text-gray-500",children:["Kendaraan",e("span",{className:"text-red-600",children:"*"})]}),e("input",{onChange:l,type:"text",name:"kendaraan",id:"kendaraan",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[e("label",{for:"merk",className:"block text-xs font-medium uppercase text-gray-500",children:"Merk"}),e("input",{onChange:l,type:"text",name:"merk",id:"merk",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"roda",className:"block text-xs font-medium uppercase text-gray-500",children:["Roda",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:l,id:"roda",name:"roda",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",children:[e("option",{value:"",children:"--Pilih Roda--"}),e("option",{value:"roda-4",children:"Roda - 4"}),e("option",{value:"roda-6",children:"Roda - 6"})]})]}),a("div",{className:"col-span-9 sm:col-span-3",children:[a("label",{for:"status",className:"block text-xs font-medium uppercase text-gray-500",children:["Status",e("span",{className:"text-red-600",children:"*"})]}),a("select",{onChange:l,id:"status",name:"status",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm",children:[e("option",{value:"",children:"--Pilih Status--"}),e("option",{value:"active",children:"Active"}),e("option",{value:"inactive",children:"Inactive"})]})]})]})}),a("div",{className:"flex items-center justify-end p-3 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 hover:bg-emerald-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",children:"Submit"}),e("button",{className:"text-gray-500 background-transparent hover:bg-gray-200 font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>t(!1),children:"Close"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})}):null]})}function se({preGlobalFilteredRows:r,globalFilter:s,setGlobalFilter:t}){const m=r.length,[n,l]=b.exports.useState(s),u=w.exports.useAsyncDebounce(o=>{t(o||void 0)},200);return a("label",{className:"flex gap-x-2 items-baseline",children:[e("span",{className:"text-gray-700",children:"Search: "}),e("input",{type:"text",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:n||"",onChange:o=>{l(o.target.value),u(o.target.value)},placeholder:`${m} records...`})]})}function ne({value:r}){const s=r?r.toLowerCase():"unknown";return e("span",{className:Z("px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm",s.startsWith("active")?"bg-green-100 text-green-800":null,s.startsWith("inactive")?"bg-red-100 text-red-800":null),children:s})}function te({columns:r,data:s}){const{getTableProps:t,getTableBodyProps:m,headerGroups:n,prepareRow:l,page:u,canPreviousPage:o,canNextPage:d,pageOptions:x,pageCount:c,gotoPage:f,nextPage:v,previousPage:y,setPageSize:I,state:S,preGlobalFilteredRows:D,setGlobalFilter:H}=w.exports.useTable({columns:r,data:s},w.exports.useFilters,w.exports.useGlobalFilter,w.exports.useSortBy,w.exports.usePagination);return e(N,{children:e("div",{className:"shadow overflow-hidden sm:rounded-md",children:a("div",{className:"px-4 py-5 bg-white sm:p-6",children:[e("header",{className:"px-0 mt-0 mb-4",children:e("h2",{className:"font-semibold text-slate-800 uppercase",children:"Kendaraan List"})}),a("div",{className:"sm:flex sm:gap-x-2 py-2",children:[e(se,{preGlobalFilteredRows:D,globalFilter:S.globalFilter,setGlobalFilter:H}),n.map(i=>i.headers.map(h=>h.Filter?e("div",{className:"mt-2 sm:mt-0",children:h.render("Filter")},h.id):null)),e("div",{className:"flex px-4",children:e(ae,{})})]}),e("div",{className:"mt-4 flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:e("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:a("table",g(p({},t()),{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:n.map(i=>e("tr",g(p({},i.getHeaderGroupProps()),{children:i.headers.map(h=>e("th",g(p({scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},h.getHeaderProps(h.getSortByToggleProps())),{children:a("div",{className:"flex items-center justify-between",children:[h.render("Header"),e("span",{children:h.isSorted?h.isSortedDesc?e(U,{className:"w-4 h-4 text-gray-400"}):e($,{className:"w-4 h-4 text-gray-400"}):e(q,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100"})})]})})))})))}),e("tbody",g(p({},m()),{className:"bg-white divide-y divide-gray-200",children:u.map((i,h)=>(l(i),e("tr",g(p({},i.getRowProps()),{children:i.cells.map(k=>e("td",g(p({},k.getCellProps()),{className:"px-6 py-4 whitespace-nowrap",role:"cell",children:k.column.Cell.name==="defaultRenderer"?e("div",{className:"text-sm text-gray-500",children:k.render("Cell")}):k.render("Cell")})))}))))}))]}))})})})}),a("div",{className:"py-3 flex items-center justify-between",children:[a("div",{className:"flex-1 flex justify-between sm:hidden",children:[e(F,{onClick:()=>y(),disabled:!o,children:"Previous"}),e(F,{onClick:()=>v(),disabled:!d,children:"Next"})]}),a("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a("div",{className:"flex gap-x-2 items-baseline",children:[a("span",{className:"text-sm text-gray-700",children:["Page ",e("span",{className:"font-medium",children:S.pageIndex+1})," of"," ",e("span",{className:"font-medium",children:x.length})]}),a("label",{children:[e("span",{className:"sr-only",children:"Items Per Page"}),e("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:S.pageSize,onChange:i=>{I(Number(i.target.value))},children:[5,10,20].map(i=>a("option",{value:i,children:["Show ",i]},i))})]})]}),e("div",{children:a("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a(C,{className:"rounded-l-md",onClick:()=>f(0),disabled:!o,children:[e("span",{className:"sr-only",children:"First"}),e(J,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{onClick:()=>y(),disabled:!o,children:[e("span",{className:"sr-only",children:"Previous"}),e(Q,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{onClick:()=>v(),disabled:!d,children:[e("span",{className:"sr-only",children:"Next"}),e(X,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),a(C,{className:"rounded-r-md",onClick:()=>f(c-1),disabled:!d,children:[e("span",{className:"sr-only",children:"Last"}),e(Y,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]})]})})]})]})]})})})}function ue(){const r=K(n=>n.kendaraans.list),s=P();b.exports.useEffect(()=>{s(O())},[]);const t=n=>{window.confirm("Are you sure you want to delete ?")&&s(V(n))},m=b.exports.useMemo(()=>[{Header:"ID",accessor:"id"},{Header:"Kendaraan",accessor:"kendaraan"},{Header:"Roda",accessor:"roda"},{Header:"Merk",accessor:"merk"},{Header:"Status",accessor:"status",Cell:ne},{Header:"Action",Cell:n=>{var l,u,o,d;return a("div",{className:"flex justify-start",children:[j.update_kendaraan.allowedRoles.includes((u=(l=M)==null?void 0:l.user)==null?void 0:u.role)&&e(ee,{id:n.row.original.id}),j.delete_kendaraan.allowedRoles.includes((d=(o=M)==null?void 0:o.user)==null?void 0:d.role)&&e("svg",{onClick:()=>t(n.row.original.id),xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-red-400 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}}],[]);return e(te,{columns:m,data:r})}export{ue as default};
